import { useContext } from "react";
import { Button, HeadingOne, HeadingThree, Tag, Small } from "ui/library";

import { ModalContext } from "../../contexts/modalContext";

export const VulnerabilityModal = () => {
  const { showModal, setShowModal, modalData } = useContext(ModalContext);
  const {
    id,
    module_name,
    title,
    severity,
    recommendation,
    overview,
    references,
  } = modalData;

  return (
    <div
      className={`fixed flex items-start justify-center top-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full ${
        showModal ? "" : "hidden"
      }`}
      id="modal"
    >
      <div class="relative top-16 p-1 border w-3/4 shadow-lg rounded-md bg-white">
        <div className="mr-2 p-2 rounded-sm flex flex-row-reverse">
          <Button onClick={() => setShowModal(false)}>&times;</Button>
        </div>
        <div class="mt-3 p-4">
          <div class="mx-auto flex flex-col items-start justify-center rounded-full">
            <HeadingOne>{title}</HeadingOne>
            <HeadingThree className="mb-1 text-gray-600">
              {module_name}
            </HeadingThree>
            <Tag theme="success" title={`Severity: ${severity}`}>
              {severity}
            </Tag>
            <strong className="mt-8">Overview</strong>
            <div className="mb-4">
              <Small>{overview}</Small>
            </div>
            <strong>Recommendation</strong>
            <div className="mb-4">
              <Small>{recommendation}</Small>
            </div>
            <strong>References</strong>
            <div className="mb-4">
              <Small>{references}</Small>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};
